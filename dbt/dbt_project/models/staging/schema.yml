version: 2

models:
  - name: stg_users_csv
    description: "Table de staging nettoyée des utilisateurs depuis users_csv"
    columns:
      - name: id
        description: "Identifiant unique"
        tests:
          - not_null
          - unique

      - name: email
        description: "Adresse email de l'utilisateur"
        tests:
          - not_null
          - unique

      - name: age
        description: "Âge de l'utilisateur"
        tests:
          - not_null
          - accepted_values:
              values: [18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30,
                       31, 32, 33, 34, 35, 36, 37, 38, 39, 40,
                       41, 42, 43, 44, 45, 46, 47, 48, 49, 50,
                       51, 52, 53, 54, 55, 56, 57, 58, 59, 60,
                       61, 62, 63, 64, 65]

      - name: subscription_type
        tests:
          - not_null
          - accepted_values:
              values: ['Free', 'Basic', 'Premium', 'Enterprise']
